@model ShoppingCart

<form method="post">
    <input hidden asp-for="ProductId"/>

    <!-- ======= Breadcrumbs ======= -->
    <section id="breadcrumbs" class="breadcrumbs">
        <div class="container">

            <ol>
                <li><a asp-action="Index">Home</a></li>
                <li>Details</li>
            </ol>
            <h2>Tutor Details</h2>

        </div>
    </section><!-- End Breadcrumbs -->
    <!-- ======= Tutor Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
        <div class="container">

            <div class="row gy-4">

                <div class="col-lg-8">
                    <div class="portfolio-details-slider swiper">
                        <div class="swiper-wrapper align-items-center">

                            <div class="swiper-slide">
                                <img src="@Model.Product.ImageUrl" alt="">
                            </div>

                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="portfolio-info">
                        <h3>@Model.Product.Title</h3>
                        <ul>
                            <li><strong>Category</strong>: @Model.Product.Category.Name</li>
                            <li><strong>Price per hour</strong>: @Model.Product.ListPrice.ToString("c")</li>
                        </ul>
                    </div>
                    <div class="portfolio-description">
                        <h2>Details</h2>
                        <p>
                            @Html.Raw(Model.Product.Description)
                        </p>
                    </div>
                    <div class="text-center mt-4">
                        <!-- Dropdown menu for selecting tutoring hours -->
                        <label for="tutoring-hours">How many hours would you like?</label>
                        <input asp-for="Count"  type="number" id="tutoring-hours" name="tutoring-hours" class="form-control" min="1" required>

                        <br />
                        <!-- Display total price based on selected hours -->
                        <p>Total Price: <span id="total-price">@Model.Product.ListPrice.ToString("c")</span></p>
                        <!-- Button to add to cart -->
                        <button type="submit" class="btn btn-primary btn-lg text-uppercase" style="background-color: deepskyblue; color: white;">
                            Add to Cart
                        </button>
                    </div>
                </div>

            </div>

        </div>
    </section><!-- End Portfolio Details Section -->
</form>

<script>
    // Function to calculate total price based on selected hours
    document.getElementById('tutoring-hours').addEventListener('change', function() {
        var selectedHours = parseInt(this.value);
        var pricePerHour = parseFloat("@Model.Product.ListPrice");
        var totalPrice = selectedHours * pricePerHour;
        document.getElementById('total-price').textContent = totalPrice.toLocaleString('en-US', { style: 'currency', currency: 'EUR' });
    });
</script>
