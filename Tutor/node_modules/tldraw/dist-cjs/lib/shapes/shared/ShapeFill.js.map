{
  "version": 3,
  "sources": ["../../../../src/lib/shapes/shared/ShapeFill.tsx"],
  "sourcesContent": ["import {\n\tHASH_PATTERN_ZOOM_NAMES,\n\tTLDefaultColorStyle,\n\tTLDefaultColorTheme,\n\tTLDefaultFillStyle,\n\tgetDefaultColorTheme,\n\tuseEditor,\n\tuseIsDarkMode,\n\tuseValue,\n} from '@tldraw/editor'\nimport React from 'react'\n\nexport interface ShapeFillProps {\n\td: string\n\tfill: TLDefaultFillStyle\n\tcolor: TLDefaultColorStyle\n\ttheme: TLDefaultColorTheme\n}\n\nexport function useDefaultColorTheme() {\n\treturn getDefaultColorTheme({ isDarkMode: useIsDarkMode() })\n}\n\nexport const ShapeFill = React.memo(function ShapeFill({ theme, d, color, fill }: ShapeFillProps) {\n\tswitch (fill) {\n\t\tcase 'none': {\n\t\t\treturn null\n\t\t}\n\t\tcase 'solid': {\n\t\t\treturn <path fill={theme[color].semi} d={d} />\n\t\t}\n\t\tcase 'semi': {\n\t\t\treturn <path fill={theme.solid} d={d} />\n\t\t}\n\t\tcase 'pattern': {\n\t\t\treturn <PatternFill theme={theme} color={color} fill={fill} d={d} />\n\t\t}\n\t}\n})\n\nconst PatternFill = function PatternFill({ d, color, theme }: ShapeFillProps) {\n\tconst editor = useEditor()\n\tconst zoomLevel = useValue('zoomLevel', () => editor.getZoomLevel(), [editor])\n\n\tconst intZoom = Math.ceil(zoomLevel)\n\tconst teenyTiny = editor.getZoomLevel() <= 0.18\n\n\treturn (\n\t\t<>\n\t\t\t<path fill={theme[color].pattern} d={d} />\n\t\t\t<path\n\t\t\t\tfill={\n\t\t\t\t\tteenyTiny\n\t\t\t\t\t\t? theme[color].semi\n\t\t\t\t\t\t: `url(#${HASH_PATTERN_ZOOM_NAMES[`${intZoom}_${theme.id}`]})`\n\t\t\t\t}\n\t\t\t\td={d}\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport function getShapeFillSvg({ d, color, fill, theme }: ShapeFillProps) {\n\tif (fill === 'none') {\n\t\treturn\n\t}\n\n\tif (fill === 'pattern') {\n\t\tconst gEl = document.createElementNS('http://www.w3.org/2000/svg', 'g')\n\t\tconst path1El = document.createElementNS('http://www.w3.org/2000/svg', 'path')\n\t\tpath1El.setAttribute('d', d)\n\t\tpath1El.setAttribute('fill', theme[color].pattern)\n\n\t\tconst path2El = document.createElementNS('http://www.w3.org/2000/svg', 'path')\n\t\tpath2El.setAttribute('d', d)\n\t\tpath2El.setAttribute('fill', `url(#hash_pattern)`)\n\n\t\tgEl.appendChild(path1El)\n\t\tgEl.appendChild(path2El)\n\t\treturn gEl\n\t}\n\n\tconst path = document.createElementNS('http://www.w3.org/2000/svg', 'path')\n\tpath.setAttribute('d', d)\n\n\tswitch (fill) {\n\t\tcase 'semi': {\n\t\t\tpath.setAttribute('fill', theme.solid)\n\t\t\tbreak\n\t\t}\n\t\tcase 'solid': {\n\t\t\t{\n\t\t\t\tpath.setAttribute('fill', theme[color].semi)\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn path\n}\n\nexport function getSvgWithShapeFill(foregroundPath: SVGElement, backgroundPath?: SVGElement) {\n\tif (backgroundPath) {\n\t\t// If there is a fill element, return a group containing the fill and the path\n\t\tconst g = document.createElementNS('http://www.w3.org/2000/svg', 'g')\n\t\tg.appendChild(backgroundPath)\n\t\tg.appendChild(foregroundPath)\n\t\treturn g\n\t} else {\n\t\t// Otherwise, just return the path\n\t\treturn foregroundPath\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BU;AA7BV,oBASO;AACP,mBAAkB;AASX,SAAS,uBAAuB;AACtC,aAAO,oCAAqB,EAAE,gBAAY,6BAAc,EAAE,CAAC;AAC5D;AAEO,MAAM,YAAY,aAAAA,QAAM,KAAK,SAASC,WAAU,EAAE,OAAO,GAAG,OAAO,KAAK,GAAmB;AACjG,UAAQ,MAAM;AAAA,IACb,KAAK,QAAQ;AACZ,aAAO;AAAA,IACR;AAAA,IACA,KAAK,SAAS;AACb,aAAO,4CAAC,UAAK,MAAM,MAAM,KAAK,EAAE,MAAM,GAAM;AAAA,IAC7C;AAAA,IACA,KAAK,QAAQ;AACZ,aAAO,4CAAC,UAAK,MAAM,MAAM,OAAO,GAAM;AAAA,IACvC;AAAA,IACA,KAAK,WAAW;AACf,aAAO,4CAAC,eAAY,OAAc,OAAc,MAAY,GAAM;AAAA,IACnE;AAAA,EACD;AACD,CAAC;AAED,MAAM,cAAc,SAASC,aAAY,EAAE,GAAG,OAAO,MAAM,GAAmB;AAC7E,QAAM,aAAS,yBAAU;AACzB,QAAM,gBAAY,wBAAS,aAAa,MAAM,OAAO,aAAa,GAAG,CAAC,MAAM,CAAC;AAE7E,QAAM,UAAU,KAAK,KAAK,SAAS;AACnC,QAAM,YAAY,OAAO,aAAa,KAAK;AAE3C,SACC,4EACC;AAAA,gDAAC,UAAK,MAAM,MAAM,KAAK,EAAE,SAAS,GAAM;AAAA,IACxC;AAAA,MAAC;AAAA;AAAA,QACA,MACC,YACG,MAAM,KAAK,EAAE,OACb,QAAQ,sCAAwB,GAAG,OAAO,IAAI,MAAM,EAAE,EAAE,CAAC;AAAA,QAE7D;AAAA;AAAA,IACD;AAAA,KACD;AAEF;AAEO,SAAS,gBAAgB,EAAE,GAAG,OAAO,MAAM,MAAM,GAAmB;AAC1E,MAAI,SAAS,QAAQ;AACpB;AAAA,EACD;AAEA,MAAI,SAAS,WAAW;AACvB,UAAM,MAAM,SAAS,gBAAgB,8BAA8B,GAAG;AACtE,UAAM,UAAU,SAAS,gBAAgB,8BAA8B,MAAM;AAC7E,YAAQ,aAAa,KAAK,CAAC;AAC3B,YAAQ,aAAa,QAAQ,MAAM,KAAK,EAAE,OAAO;AAEjD,UAAM,UAAU,SAAS,gBAAgB,8BAA8B,MAAM;AAC7E,YAAQ,aAAa,KAAK,CAAC;AAC3B,YAAQ,aAAa,QAAQ,oBAAoB;AAEjD,QAAI,YAAY,OAAO;AACvB,QAAI,YAAY,OAAO;AACvB,WAAO;AAAA,EACR;AAEA,QAAM,OAAO,SAAS,gBAAgB,8BAA8B,MAAM;AAC1E,OAAK,aAAa,KAAK,CAAC;AAExB,UAAQ,MAAM;AAAA,IACb,KAAK,QAAQ;AACZ,WAAK,aAAa,QAAQ,MAAM,KAAK;AACrC;AAAA,IACD;AAAA,IACA,KAAK,SAAS;AACb;AACC,aAAK,aAAa,QAAQ,MAAM,KAAK,EAAE,IAAI;AAAA,MAC5C;AACA;AAAA,IACD;AAAA,EACD;AAEA,SAAO;AACR;AAEO,SAAS,oBAAoB,gBAA4B,gBAA6B;AAC5F,MAAI,gBAAgB;AAEnB,UAAM,IAAI,SAAS,gBAAgB,8BAA8B,GAAG;AACpE,MAAE,YAAY,cAAc;AAC5B,MAAE,YAAY,cAAc;AAC5B,WAAO;AAAA,EACR,OAAO;AAEN,WAAO;AAAA,EACR;AACD;",
  "names": ["React", "ShapeFill", "PatternFill"]
}
