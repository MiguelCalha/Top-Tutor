{
  "version": 3,
  "sources": ["../../../src/lib/hooks/useSafariFocusOutFix.ts"],
  "sourcesContent": ["import * as React from 'react'\nimport { useEditor } from './useEditor'\n\nlet isMobileSafari = false\n\nif (typeof window !== 'undefined') {\n\tconst ua = window.navigator.userAgent\n\tconst iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i)\n\tconst webkit = !!ua.match(/WebKit/i)\n\tisMobileSafari = iOS && webkit && !ua.match(/CriOS/i)\n}\n\nexport function useSafariFocusOutFix(): void {\n\tconst editor = useEditor()\n\n\tReact.useEffect(() => {\n\t\tif (!isMobileSafari) return\n\n\t\tfunction handleFocusOut(e: FocusEvent) {\n\t\t\tif (\n\t\t\t\t(e.target instanceof HTMLInputElement && e.target.type === 'text') ||\n\t\t\t\te.target instanceof HTMLTextAreaElement\n\t\t\t) {\n\t\t\t\teditor.complete()\n\t\t\t}\n\t\t}\n\n\t\t// Send event on iOS when a user presses the \"Done\" key while editing a text element.\n\t\tdocument.addEventListener('focusout', handleFocusOut)\n\t\treturn () => document.removeEventListener('focusout', handleFocusOut)\n\t}, [editor])\n}\n"],
  "mappings": "AAAA,YAAY,WAAW;AACvB,SAAS,iBAAiB;AAE1B,IAAI,iBAAiB;AAErB,IAAI,OAAO,WAAW,aAAa;AAClC,QAAM,KAAK,OAAO,UAAU;AAC5B,QAAM,MAAM,CAAC,CAAC,GAAG,MAAM,OAAO,KAAK,CAAC,CAAC,GAAG,MAAM,SAAS;AACvD,QAAM,SAAS,CAAC,CAAC,GAAG,MAAM,SAAS;AACnC,mBAAiB,OAAO,UAAU,CAAC,GAAG,MAAM,QAAQ;AACrD;AAEO,SAAS,uBAA6B;AAC5C,QAAM,SAAS,UAAU;AAEzB,QAAM,UAAU,MAAM;AACrB,QAAI,CAAC;AAAgB;AAErB,aAAS,eAAe,GAAe;AACtC,UACE,EAAE,kBAAkB,oBAAoB,EAAE,OAAO,SAAS,UAC3D,EAAE,kBAAkB,qBACnB;AACD,eAAO,SAAS;AAAA,MACjB;AAAA,IACD;AAGA,aAAS,iBAAiB,YAAY,cAAc;AACpD,WAAO,MAAM,SAAS,oBAAoB,YAAY,cAAc;AAAA,EACrE,GAAG,CAAC,MAAM,CAAC;AACZ;",
  "names": []
}
